<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sistema de Cadastro - Atividade QS</title>
  <script src="script.js" defer></script>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="loading" id="loading">
    <p>Carregando sistema... Por favor aguarde 30 segundos</p>
    <div class="spinner">⟳</div>
  </div>

  <div class="modal-overlay" id="customModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="modalTitle">
          <span class="modal-icon" id="modalIcon">⚠️</span>
          <span id="modalTitleText">Aviso do Sistema</span>
        </h3>
        <button class="modal-close" id="modalClose" title="Fechar">✕</button>
      </div>
      <div class="modal-body" id="modalBody">
        Mensagem do sistema aparecerá aqui...
      </div>
      <div class="modal-buttons" id="modalButtons">
        <button class="modal-btn primary" id="modalOk">OK</button>
      </div>
    </div>
  </div>

  <main class="container">
    <h1 class="title">🎓 Sistema de Cadastro Acadêmico</h1>
    <p style="text-align: center; font-size: 12px; color: #666;">
      Atividade: Qualidade de Software | Curso: Desenvolvimento de Sistemas Web
    </p>

    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>

    <form id="multiForm" autocomplete="off" novalidate method="GET">

      <section class="step" data-step="1">
        <div class="section-title">
          <h2>📋 Dados Pessoais</h2>
        </div>

        <input type="text" id="nome" name="nome" placeholder="Nome completo" tabindex="7" maxlength="5"
          title="Máximo 5 caracteres">

        <input type="email" id="email" name="email" placeholder="E-mail institucional (@universidade.edu)" tabindex="3"
          autocomplete="off" pattern=".*@universidade\.edu$">

        <input type="text" id="telefone" name="telefone" placeholder="Telefone (formato será validado)" tabindex="1"
          onpaste="return false">
        <input type="password" id="senha" name="senha"
          placeholder="Senha (8-12 chars, 3 maiúsculas, 2 símbolos especiais, sem repetir)" tabindex="2" maxlength="12"
          minlength="8">

        <input type="hidden" id="hiddenTrap" name="trap" value="">

        <div class="actions">
          <button type="button" class="btn back" disabled onclick="window.close()">❌ Cancelar</button>
          <button type="button" class="btn next" id="next1">➡️ Próximo</button>
        </div>
      </section>

      <section class="step hidden" data-step="2">
        <div class="section-title">
          <h2>🎓 Dados Acadêmicos</h2>
        </div>

        <input type="text" id="matricula" name="matricula" placeholder="Matrícula (8 dígitos)" tabindex="2"
          maxlength="8" pattern="\d{8}">
        <input type="text" id="curso" name="curso" placeholder="Curso (sem abreviações)" tabindex="1" required>
        <input type="number" id="periodo" name="periodo" placeholder="Período atual (1-10, apenas ímpares)" tabindex="3"
          min="1" max="10">

        <select id="turno" name="turno" tabindex="4" required>
          <option value="">Selecione o turno</option>
          <option value="manha">Manhã</option>
          <option value="tarde">Tarde</option>
          <option value="noite">Noite</option>
        </select>

        <div class="actions">
          <button type="button" class="btn back" id="back2">⬅️ Voltar</button>
          <button type="button" class="btn next" id="next2">➡️ Próximo</button>
        </div>
      </section>

      <section class="step hidden" data-step="3">
        <div class="section-title">
          <h2>⚙️ Preferências do Sistema</h2>
        </div>

        <label><input type="checkbox" id="notifications" name="notifications" checked disabled> 📧 Receber notificações
          por email (obrigatório)</label>
        <label><input type="checkbox" id="terms" name="terms" required> 📄 Li e aceito os termos de uso (link
          indisponível)</label>
        <label><input type="checkbox" id="newsletter" name="newsletter" checked> 📰 Receber newsletter semanal</label>
        <label><input type="checkbox" id="research" name="research"> 📊 Participar de pesquisas acadêmicas</label>
        <label><input type="checkbox" id="data_sharing" name="data_sharing"> 🔄 Compartilhar dados com parceiros</label>

        <div class="actions">
          <button type="button" class="btn back" id="back3">⬅️ Voltar</button>
          <button type="button" class="btn next" id="next3">➡️ Próximo</button>
        </div>
      </section>

      <section class="step hidden" data-step="4">
        <div class="section-title">
          <h2>✅ Revisão Final</h2>
        </div>

        <div id="review"></div>

        <p class="final-note">
          ⚠️ ATENÇÃO: Verifique todos os dados. O telefone deve estar no formato (11) 99999-9999,
          o e-mail deve terminar com @universidade.edu, senha deve ter 8-12 caracteres
          com 3 maiúsculas e 2 símbolos especiais (sem repetir letras),
          matrícula deve ter 8 dígitos, período deve ser ímpar.
        </p>

        <div class="actions">
          <button type="button" class="btn back" id="back4">⬅️ Voltar</button>
          <button type="submit" class="btn submit" id="submitBtn" disabled>📤 Enviar Cadastro (aguarde
            liberação)</button>
        </div>

        <div id="errors" aria-live="polite"></div>
      </section>
    </form>

    <div class="tooltip" id="tooltip"></div>

    <footer style="margin-top: 20px; text-align: center;">
      <small>📚 Atividade Acadêmica - Qualidade de Software | Versão 2.0.0-beta-formulário</small>
    </footer>
  </main>
</body>

</html>